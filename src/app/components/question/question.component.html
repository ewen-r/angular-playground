<!--
  Â© Copyright 2023-2023 E Reynolds, Inc. All rights reserved.

  This program is confidential and proprietary to E Reynolds, and
    may not be copied, reproduced, modified, disclosed to others, published or used,
    in whole or in part, without the express prior written permission.
-->

<div class="card text-center">

  <!-- Header -->
  <div class="card-header">
    <h4> Question {{ index }}
      <span *ngIf="question?.difficulty">
        ( {{ question?.difficulty }} )
      </span>

      <container-element [ngSwitch]="userAnswer">
        <span *ngSwitchCase="null"></span>
        <span *ngSwitchCase="true">ðŸ˜€</span>
        <span *ngSwitchCase="false">ðŸ™ƒ</span>
      </container-element>
    </h4>
    <p class="">
      {{ question?.statement || 'feeb' }}
    </p>
  </div>

  <!-- Body -->
  <div class="card-body">

    <!-- userAnswerDiv -->
    <div class="userAnswerDiv">
      <!-- Depending on type of question... -->
      <container-element [ngSwitch]="question?.questionType">

        <!-- If true/false question. -->
        <div *ngSwitchCase="QuestionType.TRUE_FALSE" class="list-group">
          <label class="list-group-item d-flex gap-2">
            <input type="radio" class="btn-check" [name]="uniquePrefix + 'trueFalse'"
              [id]="uniquePrefix + '_TrueButton'" autocomplete="off" checked>
            <label class="btn btn-outline-success" [for]="uniquePrefix + '_TrueButton'">TRUE</label>

            <input type="radio" class="btn-check" [name]="uniquePrefix + 'trueFalse'"
              [id]="uniquePrefix + '_FalseButton'" autocomplete="off">
            <label class="btn btn-outline-danger" [for]="uniquePrefix + '_FalseButton'">FALSE</label>
          </label>
        </div>

        <!-- If multiple choice Question. -->
        <div *ngSwitchCase="QuestionType.MULTIPLE_CHOICE" class="list-group">
          <label *ngFor="let option of question?.multiChoiceOptions" class="list-group-item d-flex gap-2">
            <input class="form-check-input flex-shrink-0" type="radio" [name]="uniquePrefix + '_listGroupRadios'"
              [id]="uniquePrefix + '_MultipleChoiceOption'" value="option">
            <span>
              {{ option }}
            </span>
          </label>
        </div>

        <!-- If text based Question. -->
        <!-- @TODO_EWEN Add an input text area here. -->

      </container-element>
    </div>

    <!-- answerButtonDiv -->
    <div class="col align-items-start answerButtonDiv">
      <button class="btn btn-sm" type="button" (click)="showAnswer = !showAnswer"
        [ngClass]="{'btn-warning': showAnswer, 'btn-outline-warning': !showAnswer}">
        {{ showAnswer ? "Hide Answer" : "Show Answer" }}
      </button>
    </div>

    <!-- answerDiv -->
    <div class="row align-items-start answerDiv" *ngIf="showAnswer">
      <p>{{ displayAnswer }}</p>
    </div>

    <!-- markAnswerDiv -->
    <div class="markAnswerDiv">
      <span>Please mark your own answer... </span>
      <button type="button" class="btn btn-sm" (click)="onAnswerButton()"
        [ngClass]="{'btn-success': userAnswer, 'btn-danger': !userAnswer}">
        {{ userAnswer ? "CORRECT" : "INCORRECT" }} </button>
    </div>

  </div>

  <!-- Footer -->
  <div class="card-footer">
  </div>

</div>
